<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏ –æ—Ç KefiriyiT√º</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* –¶–≤–µ—Ç–∞ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
            --light-primary: #ffffff;
            --light-secondary: #f5f5f5;
            --light-accent: #ff6b6b;
            --light-accent2: #4ecdc4;
            --light-text: #333333;
            --light-border: #e0e0e0;
            --light-shadow: rgba(0, 0, 0, 0.1);
            --light-bg-gradient: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            
            /* –¶–≤–µ—Ç–∞ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
            --dark-primary: #121212;
            --dark-secondary: #1e1e1e;
            --dark-text: #f5f5f5;
            --dark-border: #333333;
            --dark-shadow: rgba(255, 255, 255, 0.05);
            
            /* –û–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ */
            --transition: all 0.3s ease;
            --border-radius: 12px;
            --box-shadow: 0 4px 20px var(--light-shadow);
            --header-height: 60px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-primary);
            color: var(--light-text);
            transition: var(--transition);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body.dark-theme {
            background-color: var(--dark-primary);
            color: var(--dark-text);
            --box-shadow: 0 4px 20px var(--dark-shadow);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes cellHover {
            from { transform: scale(0.9); opacity: 0.7; }
            to { transform: scale(1); opacity: 1; }
        }

        /* –•–µ–¥–µ—Ä */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--header-height);
            background-color: var(--light-secondary);
            box-shadow: var(--box-shadow);
            display: flex;
            justify-content: flex-end;
            align-items: center;
            padding: 0 20px;
            z-index: 1000;
            transition: var(--transition);
        }

        .dark-theme .header {
            background-color: var(--dark-secondary);
            border-bottom: 1px solid var(--dark-border);
        }

        .header-icons {
            display: flex;
            gap: 20px;
        }

        .header-icon {
            font-size: 1.5rem;
            color: var(--light-text);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: transparent;
        }

        .dark-theme .header-icon {
            color: var(--dark-text);
        }

        .header-icon:hover {
            transform: translateY(-3px);
            color: var(--light-accent);
        }

        .dark-theme .header-icon:hover {
            color: var(--light-accent);
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: calc(var(--header-height) + 20px) 20px 80px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è */
        .intro-page {
            text-align: center;
            animation: fadeIn 0.8s ease forwards;
            max-width: 800px;
            padding: 40px;
            border-radius: var(--border-radius);
            background-color: var(--light-secondary);
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .dark-theme .intro-page {
            background-color: var(--dark-secondary);
        }

        .intro-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
        }

        .kefir-logo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            animation: pulse 2s infinite;
        }

        .kefir-logo i {
            font-size: 3rem;
            color: white;
        }

        .intro-title {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
        }

        .dark-theme .intro-title {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .intro-subtitle {
            font-size: 1.2rem;
            margin-bottom: 30px;
            line-height: 1.6;
            color: var(--light-text);
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .dark-theme .intro-subtitle {
            color: var(--dark-text);
        }

        .play-button {
            padding: 15px 50px;
            font-size: 1.2rem;
            font-weight: 600;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
            margin-top: 20px;
            animation: pulse 2s infinite;
        }

        .play-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 7px 20px rgba(255, 107, 107, 0.4);
        }

        .copyright {
            position: absolute;
            bottom: 20px;
            font-size: 0.9rem;
            color: var(--light-text);
            opacity: 0.7;
        }

        .dark-theme .copyright {
            color: var(--dark-text);
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ */
        .mode-page {
            display: none;
            text-align: center;
            width: 100%;
            max-width: 800px;
            animation: fadeIn 0.8s ease forwards;
        }

        .page-title {
            font-size: 2.5rem;
            margin-bottom: 40px;
            color: var(--light-text);
            position: relative;
            display: inline-block;
        }

        .dark-theme .page-title {
            color: var(--dark-text);
        }

        .page-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(to right, #ff6b6b, #4ecdc4);
            border-radius: 2px;
        }

        .mode-selection {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .mode-option {
            background-color: var(--light-secondary);
            padding: 30px;
            border-radius: var(--border-radius);
            width: 280px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--box-shadow);
            border: 2px solid transparent;
        }

        .dark-theme .mode-option {
            background-color: var(--dark-secondary);
        }

        .mode-option:hover {
            transform: translateY(-10px);
        }

        .mode-option.selected {
            border-color: var(--light-accent);
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(255, 107, 107, 0.2);
        }

        .dark-theme .mode-option.selected {
            border-color: var(--light-accent);
        }

        .mode-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--light-accent);
        }

        .mode-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--light-text);
        }

        .dark-theme .mode-title {
            color: var(--dark-text);
        }

        .mode-description {
            font-size: 1rem;
            color: var(--light-text);
            opacity: 0.8;
            line-height: 1.6;
        }

        .dark-theme .mode-description {
            color: var(--dark-text);
        }

        .player-names {
            display: none;
            background-color: var(--light-secondary);
            padding: 30px;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            animation: fadeIn 0.5s ease forwards;
        }

        .dark-theme .player-names {
            background-color: var(--dark-secondary);
        }

        .name-input-group {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }

        .input-row {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .player-label {
            width: 100px;
            text-align: right;
            font-weight: 600;
            color: var(--light-text);
        }

        .dark-theme .player-label {
            color: var(--dark-text);
        }

        .name-input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid var(--light-border);
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            background-color: var(--light-primary);
            color: var(--light-text);
        }

        .dark-theme .name-input {
            background-color: var(--dark-primary);
            border-color: var(--dark-border);
            color: var(--dark-text);
        }

        .name-input:focus {
            border-color: var(--light-accent);
            outline: none;
        }

        .start-game-btn {
            padding: 12px 40px;
            font-size: 1.1rem;
            font-weight: 600;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .start-game-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(255, 107, 107, 0.4);
        }

        .back-button {
            background: none;
            border: none;
            color: var(--light-text);
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 30px;
            transition: var(--transition);
            padding: 8px 15px;
            border-radius: 8px;
        }

        .dark-theme .back-button {
            color: var(--dark-text);
        }

        .back-button:hover {
            background-color: rgba(255, 107, 107, 0.1);
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–≥—Ä—ã */
        .game-page {
            display: none;
            width: 100%;
            max-width: 800px;
            animation: fadeIn 0.8s ease forwards;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-border);
        }

        .dark-theme .game-header {
            border-bottom-color: var(--dark-border);
        }

        .game-title {
            font-size: 2.2rem;
            color: var(--light-text);
        }

        .dark-theme .game-title {
            color: var(--dark-text);
        }

        .turn-indicator {
            font-size: 1.2rem;
            font-weight: 600;
            padding: 8px 20px;
            border-radius: 30px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.3);
            transition: var(--transition);
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 15px;
            max-width: 500px;
            width: 100%;
            margin: 0 auto 40px;
            aspect-ratio: 1/1;
        }

        .cell {
            background-color: var(--light-secondary);
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }

        .dark-theme .cell {
            background-color: var(--dark-secondary);
        }

        .cell:hover {
            animation: cellHover 0.3s ease forwards;
        }

        .cell.x::before, .cell.x::after {
            content: '';
            position: absolute;
            width: 80%;
            height: 10px;
            background-color: var(--light-accent);
            border-radius: 5px;
        }

        .cell.x::before {
            transform: rotate(45deg);
        }

        .cell.x::after {
            transform: rotate(-45deg);
        }

        .cell.o::before {
            content: '';
            position: absolute;
            width: 70%;
            height: 70%;
            border-radius: 50%;
            border: 10px solid var(--light-accent2);
        }

        .game-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .control-btn {
            padding: 12px 30px;
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        .restart-btn {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .restart-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(255, 107, 107, 0.4);
        }

        .menu-btn {
            background-color: var(--light-secondary);
            color: var(--light-text);
            border: 2px solid var(--light-border);
        }

        .dark-theme .menu-btn {
            background-color: var(--dark-secondary);
            color: var(--dark-text);
            border-color: var(--dark-border);
        }

        .menu-btn:hover {
            background-color: rgba(255, 107, 107, 0.1);
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: var(--light-primary);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(-30px);
            transition: var(--transition);
            position: relative;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        .dark-theme .modal-content {
            background-color: var(--dark-secondary);
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--light-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dark-theme .modal-header {
            border-bottom-color: var(--dark-border);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--light-text);
        }

        .dark-theme .modal-title {
            color: var(--dark-text);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--light-text);
            transition: var(--transition);
        }

        .dark-theme .close-modal {
            color: var(--dark-text);
        }

        .close-modal:hover {
            color: var(--light-accent);
        }

        .modal-body {
            padding: 30px;
        }

        /* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */
        .settings-item {
            margin-bottom: 25px;
        }

        .settings-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--light-text);
        }

        .dark-theme .settings-label {
            color: var(--dark-text);
        }

        .theme-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .theme-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: var(--transition);
            border-radius: 30px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
        }

        input:checked + .slider {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        }

        input:checked + .slider:before {
            transform: translateX(30px);
        }

        .language-selector {
            margin-top: 10px;
        }

        .languages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .language-option {
            padding: 10px;
            border-radius: 8px;
            background-color: var(--light-secondary);
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .dark-theme .language-option {
            background-color: var(--dark-secondary);
        }

        .language-option:hover, .language-option.selected {
            border-color: var(--light-accent);
            transform: translateY(-3px);
        }

        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background-color: var(--light-secondary);
            padding: 20px;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .dark-theme .stat-card {
            background-color: var(--dark-secondary);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 10px 0;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--light-text);
            opacity: 0.8;
        }

        .dark-theme .stat-label {
            color: var(--dark-text);
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .intro-title {
                font-size: 2.2rem;
            }
            
            .kefir-logo {
                width: 80px;
                height: 80px;
            }
            
            .mode-selection {
                flex-direction: column;
                align-items: center;
            }
            
            .game-board {
                max-width: 90vw;
            }
            
            .cell {
                font-size: 3rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .intro-title {
                font-size: 1.8rem;
            }
            
            .page-title {
                font-size: 2rem;
            }
            
            .game-title {
                font-size: 1.8rem;
            }
            
            .turn-indicator {
                font-size: 1rem;
                padding: 6px 15px;
            }
            
            .input-row {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .player-label {
                text-align: left;
            }
        }

        /* –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ —Å —Ü–≤–µ—Ç–∞–º–∏ */
        .light-theme-colorful {
            --light-primary: #f0f8ff;
            --light-secondary: #ffffff;
            --light-accent: #ff6b6b;
            --light-accent2: #4ecdc4;
            --light-text: #2c3e50;
            --light-border: #e0e0e0;
            --light-shadow: rgba(0, 0, 0, 0.1);
            --light-bg-gradient: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
        }

        .light-theme-colorful .intro-page,
        .light-theme-colorful .mode-option,
        .light-theme-colorful .player-names,
        .light-theme-colorful .stat-card,
        .light-theme-colorful .cell {
            background: var(--light-bg-gradient);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .light-theme-colorful .header {
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4);
        }

        .light-theme-colorful .header-icon {
            color: white;
        }

        .light-theme-colorful .header-icon:hover {
            color: #2c3e50;
        }

        .light-theme-colorful .page-title,
        .light-theme-colorful .game-title,
        .light-theme-colorful .mode-title,
        .light-theme-colorful .player-label {
            color: #2c3e50;
        }

        .light-theme-colorful .intro-subtitle,
        .light-theme-colorful .mode-description {
            color: #34495e;
        }

        .light-theme-colorful .copyright {
            color: #2c3e50;
        }

        .light-theme-colorful .game-header {
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
        }

        .light-theme-colorful .back-button,
        .light-theme-colorful .menu-btn {
            background: rgba(255, 255, 255, 0.5);
        }

        .light-theme-colorful .back-button:hover,
        .light-theme-colorful .menu-btn:hover {
            background: rgba(255, 255, 255, 0.8);
        }

        .rainbow-text {
            background: linear-gradient(90deg, #ff6b6b, #ffd166, #06d6a0, #118ab2, #073b4c);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: rainbow 8s ease infinite;
        }
    </style>
</head>
<body>
    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å –∏–∫–æ–Ω–∫–∞–º–∏ -->
    <header class="header">
        <div class="header-icons">
            <div class="header-icon" id="telegram-btn">
                <i class="fab fa-telegram"></i>
            </div>
            <div class="header-icon" id="settings-btn">
                <i class="fas fa-cog"></i>
            </div>
            <div class="header-icon" id="stats-btn">
                <i class="fas fa-chart-bar"></i>
            </div>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="container">
        <!-- –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <div class="intro-page" id="intro-page">
            <div class="intro-header">
                <div class="kefir-logo">
                    <i class="fas fa-crown"></i>
                </div>
                <h1 class="intro-title">KefiriyiT√º</h1>
            </div>
            <p class="intro-subtitle" data-lang="intro">Kefir - —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –≤–∏–¥–µ–Ω–∏–µ–º —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –º–∏—Ä–∞. –ï–≥–æ –ø—Ä–æ–µ–∫—Ç—ã —Å–æ—á–µ—Ç–∞—é—Ç –≤ —Å–µ–±–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞ ‚Äî —ç—Ç–æ —à–∞–≥ –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É, –∫–∞–∂–¥–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ ‚Äî –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞.</p>
            <button class="play-button" id="play-btn" data-lang="play">–ò–≥—Ä–∞—Ç—å</button>
            <div class="copyright">¬© 2025 KefiriyiT√º Games. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ -->
        <div class="mode-page" id="mode-page">
            <h2 class="page-title" data-lang="game-mode">–†–µ–∂–∏–º –∏–≥—Ä—ã</h2>
            <div class="mode-selection">
                <div class="mode-option" data-mode="bot">
                    <div class="mode-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3 class="mode-title" data-lang="vs-bot">–ü—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞</h3>
                    <p class="mode-description" data-lang="bot-desc">–°—Ä–∞–∑–∏—Ç–µ—Å—å —Å –Ω–∞—à–∏–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º. –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.</p>
                </div>
                <div class="mode-option" data-mode="friend">
                    <div class="mode-icon">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <h3 class="mode-title" data-lang="vs-friend">–ü—Ä–æ—Ç–∏–≤ –¥—Ä—É–≥–∞</h3>
                    <p class="mode-description" data-lang="friend-desc">–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞ –∏ —Å—Ä–∞–∑–∏—Ç–µ—Å—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –≤–µ—á–µ—Ä–∏–Ω–æ–∫!</p>
                </div>
            </div>
            
            <div class="player-names" id="player-names">
                <div class="name-input-group">
                    <div class="input-row">
                        <span class="player-label" data-lang="player1">–ò–≥—Ä–æ–∫ 1 (X):</span>
                        <input type="text" class="name-input" id="player1-name" value="–ü–µ—Ä–≤—ã–π" maxlength="15">
                    </div>
                    <div class="input-row">
                        <span class="player-label" data-lang="player2">–ò–≥—Ä–æ–∫ 2 (O):</span>
                        <input type="text" class="name-input" id="player2-name" value="–í—Ç–æ—Ä–æ–π" maxlength="15">
                    </div>
                </div>
            </div>
            
            <!-- –í—ã–Ω–µ—Å–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã -->
            <button class="start-game-btn" id="start-game-btn" data-lang="start-game" style="display: none;">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
            
            <button class="back-button" id="mode-back-btn">
                <i class="fas fa-arrow-left"></i>
                <span data-lang="back">–ù–∞–∑–∞–¥</span>
            </button>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–≥—Ä—ã -->
        <div class="game-page" id="game-page">
            <div class="game-header">
                <h2 class="game-title" data-lang="tic-tac-toe">–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏</h2>
                <div class="turn-indicator" id="turn-indicator">–¢–≤–æ–π —Ö–æ–¥</div>
            </div>
            
            <div class="game-board" id="game-board">
                <div class="cell" data-index="0"></div>
                <div class="cell" data-index="1"></div>
                <div class="cell" data-index="2"></div>
                <div class="cell" data-index="3"></div>
                <div class="cell" data-index="4"></div>
                <div class="cell" data-index="5"></div>
                <div class="cell" data-index="6"></div>
                <div class="cell" data-index="7"></div>
                <div class="cell" data-index="8"></div>
            </div>
            
            <div class="game-controls">
                <button class="control-btn restart-btn" id="restart-btn" data-lang="restart">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                <button class="control-btn menu-btn" id="game-menu-btn" data-lang="to-menu">–í –º–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" data-lang="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-item">
                    <span class="settings-label" data-lang="theme">–¢–µ–º–∞:</span>
                    <label class="theme-switch">
                        <input type="checkbox" id="theme-toggle">
                        <span class="slider"></span>
                    </label>
                    <span id="theme-status" data-lang="light">–°–≤–µ—Ç–ª–∞—è</span>
                </div>
                
                <div class="settings-item">
                    <span class="settings-label" data-lang="language">–Ø–∑—ã–∫:</span>
                    <div class="language-selector">
                        <div class="languages-grid" id="languages-grid">
                            <!-- –Ø–∑—ã–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
    <div class="modal" id="stats-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" data-lang="statistics">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="stats-grid" id="stats-grid">
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–≥—Ä—ã -->
    <div class="modal" id="result-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="result-title">–†–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä—ã</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p id="result-message" style="text-align: center; font-size: 1.2rem; margin: 20px 0;"></p>
                <div style="text-align: center; margin-top: 30px;">
                    <button class="control-btn restart-btn" id="modal-restart-btn" style="margin-right: 10px;" data-lang="play-again">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                    <button class="control-btn menu-btn" id="modal-menu-btn" data-lang="to-menu">–í –º–µ–Ω—é</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const state = {
            currentPage: 'intro',
            gameMode: null,
            currentPlayer: 'X',
            gameBoard: Array(9).fill(''),
            gameActive: true,
            playerNames: {
                player1: '–ü–µ—Ä–≤—ã–π',
                player2: '–í—Ç–æ—Ä–æ–π'
            },
            botStrategy: 'random',
            botMovesCount: 0,
            stats: {
                gamesPlayed: 0,
                winsX: 0,
                winsO: 0,
                draws: 0
            },
            theme: 'dark',
            language: 'ru'
        };

        // –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏
        const languages = {
            ru: { name: "–†—É—Å—Å–∫–∏–π", flag: "üá∑üá∫" },
            en: { name: "English", flag: "üá∫üá∏" },
            es: { name: "Espa√±ol", flag: "üá™üá∏" },
            fr: { name: "Fran√ßais", flag: "üá´üá∑" },
            de: { name: "Deutsch", flag: "üá©üá™" },
            zh: { name: "‰∏≠Êñá", flag: "üá®üá≥" },
            ja: { name: "Êó•Êú¨Ë™û", flag: "üáØüáµ" },
            ko: { name: "ÌïúÍµ≠Ïñ¥", flag: "üá∞üá∑" },
            ar: { name: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", flag: "üá∏üá¶" },
            pt: { name: "Portugu√™s", flag: "üáµüáπ" },
            it: { name: "Italiano", flag: "üáÆüáπ" },
            nl: { name: "Nederlands", flag: "üá≥üá±" },
            tr: { name: "T√ºrk√ße", flag: "üáπüá∑" },
            pl: { name: "Polski", flag: "üáµüá±" },
            uk: { name: "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞", flag: "üá∫üá¶" },
            hi: { name: "‡§π‡§ø‡§®‡•ç‡§¶‡•Ä", flag: "üáÆüá≥" },
            id: { name: "Bahasa Indonesia", flag: "üáÆüá©" },
            vi: { name: "Ti·∫øng Vi·ªát", flag: "üáªüá≥" },
            th: { name: "‡πÑ‡∏ó‡∏¢", flag: "üáπüá≠" },
            sv: { name: "Svenska", flag: "üá∏üá™" },
            no: { name: "Norsk", flag: "üá≥üá¥" },
            da: { name: "Dansk", flag: "üá©üá∞" },
            fi: { name: "Suomi", flag: "üá´üáÆ" },
            el: { name: "ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨", flag: "üá¨üá∑" },
            he: { name: "◊¢◊ë◊®◊ô◊™", flag: "üáÆüá±" },
            hu: { name: "Magyar", flag: "üá≠üá∫" },
            cs: { name: "ƒåe≈°tina", flag: "üá®üáø" },
            ro: { name: "Rom√¢nƒÉ", flag: "üá∑üá¥" },
            bg: { name: "–ë—ä–ª–≥–∞—Ä—Å–∫–∏", flag: "üáßüá¨" },
            sr: { name: "–°—Ä–ø—Å–∫–∏", flag: "üá∑üá∏" }
        };

        // –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
        const translations = {
            // –†—É—Å—Å–∫–∏–π
            ru: {
                "intro": "Kefir - —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –≤–∏–¥–µ–Ω–∏–µ–º —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –º–∏—Ä–∞. –ï–≥–æ –ø—Ä–æ–µ–∫—Ç—ã —Å–æ—á–µ—Ç–∞—é—Ç –≤ —Å–µ–±–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞ ‚Äî —ç—Ç–æ —à–∞–≥ –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É, –∫–∞–∂–¥–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ ‚Äî –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞.",
                "play": "–ò–≥—Ä–∞—Ç—å",
                "game-mode": "–†–µ–∂–∏–º –∏–≥—Ä—ã",
                "vs-bot": "–ü—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞",
                "bot-desc": "–°—Ä–∞–∑–∏—Ç–µ—Å—å —Å –Ω–∞—à–∏–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º. –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.",
                "vs-friend": "–ü—Ä–æ—Ç–∏–≤ –¥—Ä—É–≥–∞",
                "friend-desc": "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞ –∏ —Å—Ä–∞–∑–∏—Ç–µ—Å—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –≤–µ—á–µ—Ä–∏–Ω–æ–∫!",
                "player1": "–ò–≥—Ä–æ–∫ 1 (X):",
                "player2": "–ò–≥—Ä–æ–∫ 2 (O):",
                "start-game": "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É",
                "back": "–ù–∞–∑–∞–¥",
                "tic-tac-toe": "–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏",
                "restart": "–ù–æ–≤–∞—è –∏–≥—Ä–∞",
                "to-menu": "–í –º–µ–Ω—é",
                "settings": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
                "theme": "–¢–µ–º–∞:",
                "light": "–°–≤–µ—Ç–ª–∞—è",
                "dark": "–¢—ë–º–Ω–∞—è",
                "language": "–Ø–∑—ã–∫:",
                "statistics": "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                "games-played": "–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ",
                "wins-x": "–ü–æ–±–µ–¥ X",
                "wins-o": "–ü–æ–±–µ–¥ O",
                "draws": "–ù–∏—á—å–∏—Ö",
                "your-turn": "–¢–≤–æ–π —Ö–æ–¥",
                "bot-turn": "–•–æ–¥ –±–æ—Ç–∞",
                "player-turn": "–•–æ–¥ –∏–≥—Ä–æ–∫–∞",
                "win-x": "–ü–æ–±–µ–¥–∏–ª X!",
                "win-o": "–ü–æ–±–µ–¥–∏–ª O!",
                "draw": "–ù–∏—á—å—è!",
                "play-again": "–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞"
            },
            // –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
            en: {
                "intro": "Kefir is a talented programmer with a unique vision of the digital world. His projects combine elegance, functionality, and innovation. Each line of code is a step towards perfection, each program is a work of art.",
                "play": "Play",
                "game-mode": "Game Mode",
                "vs-bot": "VS Bot",
                "bot-desc": "Challenge our artificial intelligence. The bot uses advanced algorithms for decision making.",
                "vs-friend": "VS Friend",
                "friend-desc": "Invite a friend and compete on the same device. Perfect for parties!",
                "player1": "Player 1 (X):",
                "player2": "Player 2 (O):",
                "start-game": "Start Game",
                "back": "Back",
                "tic-tac-toe": "Tic Tac Toe",
                "restart": "New Game",
                "to-menu": "To Menu",
                "settings": "Settings",
                "theme": "Theme:",
                "light": "Light",
                "dark": "Dark",
                "language": "Language:",
                "statistics": "Statistics",
                "games-played": "Games Played",
                "wins-x": "X Wins",
                "wins-o": "O Wins",
                "draws": "Draws",
                "your-turn": "Your Turn",
                "bot-turn": "Bot's Turn",
                "player-turn": "Player's Turn",
                "win-x": "X Wins!",
                "win-o": "O Wins!",
                "draw": "It's a Draw!",
                "play-again": "Play Again"
            },
            // –ò—Å–ø–∞–Ω—Å–∫–∏–π
            es: {
                "intro": "Kefir es un programador talentoso con una visi√≥n √∫nica del mundo digital. Sus proyectos combinan elegancia, funcionalidad e innovaci√≥n. Cada l√≠nea de c√≥digo es un paso hacia la perfecci√≥n, cada programa es una obra de arte.",
                "play": "Jugar",
                "game-mode": "Modo de Juego",
                "vs-bot": "Contra Bot",
                "bot-desc": "Desaf√≠a a nuestra inteligencia artificial. El bot utiliza algoritmos avanzados para la toma de decisiones.",
                "vs-friend": "Contra Amigo",
                "friend-desc": "Invita a un amigo y compite en el mismo dispositivo. ¬°Perfecto para fiestas!",
                "player1": "Jugador 1 (X):",
                "player2": "Jugador 2 (O):",
                "start-game": "Comenzar Juego",
                "back": "Atr√°s",
                "tic-tac-toe": "Tres en Raya",
                "restart": "Nuevo Juego",
                "to-menu": "Al Men√∫",
                "settings": "Ajustes",
                "theme": "Tema:",
                "light": "Claro",
                "dark": "Oscuro",
                "language": "Idioma:",
                "statistics": "Estad√≠sticas",
                "games-played": "Juegos Jugados",
                "wins-x": "Victorias X",
                "wins-o": "Victorias O",
                "draws": "Empates",
                "your-turn": "Tu Turno",
                "bot-turn": "Turno del Bot",
                "player-turn": "Turno del Jugador",
                "win-x": "¬°X Gana!",
                "win-o": "¬°O Gana!",
                "draw": "¬°Empate!",
                "play-again": "Jugar de Nuevo"
            },
            // –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π
            fr: {
                "intro": "Kefir est un programmeur talentueux avec une vision unique du monde num√©rique. Ses projets combinent √©l√©gance, fonctionnalit√© et innovation. Chaque ligne de code est un pas vers la perfection, chaque programme est une ≈ìuvre d'art.",
                "play": "Jouer",
                "game-mode": "Mode de Jeu",
                "vs-bot": "Contre le Bot",
                "bot-desc": "D√©fiez notre intelligence artificielle. Le bot utilise des algorithmes avanc√©s pour prendre des d√©cisions.",
                "vs-friend": "Contre un Ami",
                "friend-desc": "Invitez un ami et affrontez-vous sur le m√™me appareil. Parfait pour les f√™tes !",
                "player1": "Joueur 1 (X):",
                "player2": "Joueur 2 (O):",
                "start-game": "Commencer le Jeu",
                "back": "Retour",
                "tic-tac-toe": "Morpion",
                "restart": "Nouveau Jeu",
                "to-menu": "Au Menu",
                "settings": "Param√®tres",
                "theme": "Th√®me:",
                "light": "Clair",
                "dark": "Sombre",
                "language": "Langue:",
                "statistics": "Statistiques",
                "games-played": "Parties Jou√©es",
                "wins-x": "Victoires X",
                "wins-o": "Victoires O",
                "draws": "√âgalit√©s",
                "your-turn": "Votre Tour",
                "bot-turn": "Tour du Bot",
                "player-turn": "Tour du Joueur",
                "win-x": "X Gagne !",
                "win-o": "O Gagne !",
                "draw": "√âgalit√© !",
                "play-again": "Rejouer"
            },
            // –ù–µ–º–µ—Ü–∫–∏–π
            de: {
                "intro": "Kefir ist ein talentierter Programmierer mit einer einzigartigen Vision der digitalen Welt. Seine Projekte vereinen Eleganz, Funktionalit√§t und Innovation. Jede Codezeile ist ein Schritt zur Perfektion, jedes Programm ist ein Kunstwerk.",
                "play": "Spielen",
                "game-mode": "Spielmodus",
                "vs-bot": "Gegen Bot",
                "bot-desc": "Fordern Sie unsere k√ºnstliche Intelligenz heraus. Der Bot verwendet fortschrittliche Algorithmen zur Entscheidungsfindung.",
                "vs-friend": "Gegen Freund",
                "friend-desc": "Laden Sie einen Freund ein und spielen Sie auf demselben Ger√§t. Perfekt f√ºr Partys!",
                "player1": "Spieler 1 (X):",
                "player2": "Spieler 2 (O):",
                "start-game": "Spiel Starten",
                "back": "Zur√ºck",
                "tic-tac-toe": "Tic Tac Toe",
                "restart": "Neues Spiel",
                "to-menu": "Zum Men√º",
                "settings": "Einstellungen",
                "theme": "Thema:",
                "light": "Hell",
                "dark": "Dunkel",
                "language": "Sprache:",
                "statistics": "Statistiken",
                "games-played": "Gespielte Spiele",
                "wins-x": "X-Siege",
                "wins-o": "O-Siege",
                "draws": "Unentschieden",
                "your-turn": "Du bist dran",
                "bot-turn": "Bot ist dran",
                "player-turn": "Spieler ist dran",
                "win-x": "X gewinnt!",
                "win-o": "O gewinnt!",
                "draw": "Unentschieden!",
                "play-again": "Nochmal spielen"
            },
            // –û—Å—Ç–∞–ª—å–Ω—ã–µ —è–∑—ã–∫–∏
            zh: {
                "intro": "KefirÊòØ‰∏Ä‰ΩçÊâçÂçéÊ®™Ê∫¢ÁöÑÁ®ãÂ∫èÂëòÔºåÂØπÊï∞Â≠ó‰∏ñÁïåÊúâÁùÄÁã¨ÁâπÁöÑÊÑøÊôØ„ÄÇ‰ªñÁöÑÈ°πÁõÆÁªìÂêà‰∫Ü‰ºòÈõÖ„ÄÅÂäüËÉΩÂíåÂàõÊñ∞„ÄÇÊØè‰∏ÄË°å‰ª£Á†ÅÈÉΩÊòØËøàÂêëÂÆåÁæéÁöÑÊ≠•‰ºêÔºåÊØè‰∏™Á®ãÂ∫èÈÉΩÊòØ‰∏Ä‰ª∂Ëâ∫ÊúØÂìÅ„ÄÇ",
                "play": "Áé©",
                "game-mode": "Ê∏∏ÊàèÊ®°Âºè",
                "vs-bot": "ÂØπÊàòÊú∫Âô®‰∫∫",
                "bot-desc": "ÊåëÊàòÊàë‰ª¨ÁöÑ‰∫∫Â∑•Êô∫ËÉΩ„ÄÇÊú∫Âô®‰∫∫‰ΩøÁî®ÂÖàËøõÁöÑÁÆóÊ≥ïËøõË°åÂÜ≥Á≠ñ„ÄÇ",
                "vs-friend": "ÂØπÊàòÊúãÂèã",
                "friend-desc": "ÈÇÄËØ∑ÊúãÂèãÂú®Âêå‰∏ÄËÆæÂ§á‰∏äÂØπÊàò„ÄÇÈùûÂ∏∏ÈÄÇÂêàËÅö‰ºöÔºÅ",
                "player1": "Áé©ÂÆ∂1 (X):",
                "player2": "Áé©ÂÆ∂2 (O):",
                "start-game": "ÂºÄÂßãÊ∏∏Êàè",
                "back": "ËøîÂõû",
                "tic-tac-toe": "‰∫ïÂ≠óÊ£ã",
                "restart": "Êñ∞Ê∏∏Êàè",
                "to-menu": "ËøîÂõûËèúÂçï",
                "settings": "ËÆæÁΩÆ",
                "theme": "‰∏ªÈ¢ò:",
                "light": "Êòé‰∫Æ",
                "dark": "ÊöóÈªë",
                "language": "ËØ≠Ë®Ä:",
                "statistics": "ÁªüËÆ°",
                "games-played": "Â∑≤Áé©Ê∏∏Êàè",
                "wins-x": "XËÉúÂà©",
                "wins-o": "OËÉúÂà©",
                "draws": "Âπ≥Â±Ä",
                "your-turn": "‰Ω†ÁöÑÂõûÂêà",
                "bot-turn": "Êú∫Âô®‰∫∫ÂõûÂêà",
                "player-turn": "Áé©ÂÆ∂ÂõûÂêà",
                "win-x": "XËÉúÂà©ÔºÅ",
                "win-o": "OËÉúÂà©ÔºÅ",
                "draw": "Âπ≥Â±ÄÔºÅ",
                "play-again": "ÂÜçÁé©‰∏ÄÊ¨°"
            },
            ja: {
                "intro": "Kefir„ÅØ„Éá„Ç∏„Çø„É´‰∏ñÁïå„Å´ÂØæ„Åô„ÇãÁã¨Ëá™„ÅÆ„Éì„Ç∏„Éß„É≥„ÇíÊåÅ„Å§ÊâçËÉΩ„ÅÇ„Çã„Éó„É≠„Ç∞„É©„Éû„Éº„Åß„Åô„ÄÇÂΩº„ÅÆ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅØÂÑ™ÈõÖ„Åï„ÄÅÊ©üËÉΩÊÄß„ÄÅÈù©Êñ∞ÊÄß„ÇíÂÖº„Å≠ÂÇô„Åà„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Ç≥„Éº„Éâ„ÅÆÂêÑË°å„ÅØÂÆåÁíß„Å∏„ÅÆ‰∏ÄÊ≠©„Åß„ÅÇ„Çä„ÄÅÂêÑ„Éó„É≠„Ç∞„É©„É†„ÅØËä∏Ë°ì‰ΩúÂìÅ„Åß„Åô„ÄÇ",
                "play": "„Éó„É¨„Ç§",
                "game-mode": "„Ç≤„Éº„É†„É¢„Éº„Éâ",
                "vs-bot": "„Éú„ÉÉ„ÉàÂØæÊà¶",
                "bot-desc": "‰∫∫Â∑•Áü•ËÉΩ„Å´ÊåëÊà¶„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ„Éú„ÉÉ„Éà„ÅØÊÑèÊÄùÊ±∫ÂÆö„ÅÆ„Åü„ÇÅ„Å´È´òÂ∫¶„Å™„Ç¢„É´„Ç¥„É™„Ç∫„É†„Çí‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ",
                "vs-friend": "„Éï„É¨„É≥„ÉâÂØæÊà¶",
                "friend-desc": "ÂèãÈÅî„ÇíÊãõÂæÖ„Åó„Å¶Âêå„Åò„Éá„Éê„Ç§„Çπ„ÅßÂØæÊà¶„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ„Éë„Éº„ÉÜ„Ç£„Éº„Å´ÊúÄÈÅ©„Åß„ÅôÔºÅ",
                "player1": "„Éó„É¨„Ç§„É§„Éº1 (X):",
                "player2": "„Éó„É¨„Ç§„É§„Éº2 (O):",
                "start-game": "„Ç≤„Éº„É†ÈñãÂßã",
                "back": "Êàª„Çã",
                "tic-tac-toe": "‰∏âÁõÆ‰∏¶„Åπ",
                "restart": "Êñ∞„Åó„ÅÑ„Ç≤„Éº„É†",
                "to-menu": "„É°„Éã„É•„Éº„Å∏",
                "settings": "Ë®≠ÂÆö",
                "theme": "„ÉÜ„Éº„Éû:",
                "light": "„É©„Ç§„Éà",
                "dark": "„ÉÄ„Éº„ÇØ",
                "language": "Ë®ÄË™û:",
                "statistics": "Áµ±Ë®à",
                "games-played": "„Éó„É¨„Ç§„Åó„Åü„Ç≤„Éº„É†",
                "wins-x": "X„ÅÆÂãùÂà©",
                "wins-o": "O„ÅÆÂãùÂà©",
                "draws": "Âºï„ÅçÂàÜ„Åë",
                "your-turn": "„ÅÇ„Å™„Åü„ÅÆ„Çø„Éº„É≥",
                "bot-turn": "„Éú„ÉÉ„Éà„ÅÆ„Çø„Éº„É≥",
                "player-turn": "„Éó„É¨„Ç§„É§„Éº„ÅÆ„Çø„Éº„É≥",
                "win-x": "X„ÅÆÂãùÂà©ÔºÅ",
                "win-o": "O„ÅÆÂãùÂà©ÔºÅ",
                "draw": "Âºï„ÅçÂàÜ„ÅëÔºÅ",
                "play-again": "„ÇÇ„ÅÜ‰∏ÄÂ∫¶ÈÅä„Å∂"
            },
            ko: {
                "intro": "KefirÎäî ÎîîÏßÄÌÑ∏ ÏÑ∏Í≥ÑÏóê ÎåÄÌïú ÎèÖÌäπÌïú ÎπÑÏ†ÑÏùÑ Í∞ÄÏßÑ Ïû¨Îä• ÏûàÎäî ÌîÑÎ°úÍ∑∏ÎûòÎ®∏ÏûÖÎãàÎã§. Í∑∏Ïùò ÌîÑÎ°úÏ†ùÌä∏Îäî Ïö∞ÏïÑÌï®, Í∏∞Îä•ÏÑ± Î∞è ÌòÅÏã†ÏùÑ Í≤∞Ìï©Ìï©ÎãàÎã§. Í∞Å ÏΩîÎìú Ï§ÑÏùÄ ÏôÑÎ≤ΩÏùÑ Ìñ•Ìïú Ìïú Í±∏ÏùåÏù¥Î©∞, Í∞Å ÌîÑÎ°úÍ∑∏Îû®ÏùÄ ÏòàÏà† ÏûëÌíàÏûÖÎãàÎã§.",
                "play": "ÌîåÎ†àÏù¥",
                "game-mode": "Í≤åÏûÑ Î™®Îìú",
                "vs-bot": "Î¥á ÎåÄÏ†Ñ",
                "bot-desc": "Ïö∞Î¶¨Ïùò Ïù∏Í≥µ ÏßÄÎä•Ïóê ÎèÑÏ†ÑÌïòÏÑ∏Ïöî. Î¥áÏùÄ ÏùòÏÇ¨ Í≤∞Ï†ïÏùÑ ÏúÑÌï¥ Í≥†Í∏â ÏïåÍ≥†Î¶¨Ï¶òÏùÑ ÏÇ¨Ïö©Ìï©ÎãàÎã§.",
                "vs-friend": "ÏπúÍµ¨ ÎåÄÏ†Ñ",
                "friend-desc": "ÏπúÍµ¨Î•º Ï¥àÎåÄÌïòÏó¨ Í∞ôÏùÄ Í∏∞Í∏∞ÏóêÏÑú ÎåÄÏ†ÑÌïòÏÑ∏Ïöî. ÌååÌã∞Ïóê ÏôÑÎ≤ΩÌï©ÎãàÎã§!",
                "player1": "ÌîåÎ†àÏù¥Ïñ¥ 1 (X):",
                "player2": "ÌîåÎ†àÏù¥Ïñ¥ 2 (O):",
                "start-game": "Í≤åÏûÑ ÏãúÏûë",
                "back": "Îí§Î°ú",
                "tic-tac-toe": "Ìã±ÌÉùÌÜ†",
                "restart": "ÏÉà Í≤åÏûÑ",
                "to-menu": "Î©îÎâ¥Î°ú",
                "settings": "ÏÑ§Ï†ï",
                "theme": "ÌÖåÎßà:",
                "light": "ÎùºÏù¥Ìä∏",
                "dark": "Îã§ÌÅ¨",
                "language": "Ïñ∏Ïñ¥:",
                "statistics": "ÌÜµÍ≥Ñ",
                "games-played": "ÌîåÎ†àÏù¥Ìïú Í≤å„Éº„É†",
                "wins-x": "X ÏäπÎ¶¨",
                "wins-o": "O ÏäπÎ¶¨",
                "draws": "Î¨¥ÏäπÎ∂Ä",
                "your-turn": "ÎãπÏã†Ïùò Ï∞®Î°Ä",
                "bot-turn": "Î¥áÏùò Ï∞®Î°Ä",
                "player-turn": "ÌîåÎ†àÏù¥Ïñ¥Ïùò Ï∞®Î°Ä",
                "win-x": "X ÏäπÎ¶¨!",
                "win-o": "O ÏäπÎ¶¨!",
                "draw": "Î¨¥ÏäπÎ∂Ä!",
                "play-again": "Îã§Ïãú ÌîåÎ†àÏù¥"
            },
            ar: {
                "intro": "ŸÉŸÅŸäÿ± ŸáŸà ŸÖÿ®ÿ±ŸÖÿ¨ ŸÖŸàŸáŸàÿ® ÿ®ÿ±ÿ§Ÿäÿ© ŸÅÿ±ŸäÿØÿ© ŸÑŸÑÿπÿßŸÑŸÖ ÿßŸÑÿ±ŸÇŸÖŸä. ÿ™ÿ¨ŸÖÿπ ŸÖÿ¥ÿßÿ±ŸäÿπŸá ÿ®ŸäŸÜ ÿßŸÑÿ£ŸÜÿßŸÇÿ© ŸàÿßŸÑŸàÿ∏ÿßÿ¶ŸÅ ŸàÿßŸÑÿßÿ®ÿ™ŸÉÿßÿ±. ŸÉŸÑ ÿ≥ÿ∑ÿ± ŸÖŸÜ ÿßŸÑÿ™ÿπŸÑŸäŸÖÿßÿ™ ÿßŸÑÿ®ÿ±ŸÖÿ¨Ÿäÿ© ŸáŸà ÿÆÿ∑Ÿàÿ© ŸÜÿ≠Ÿà ÿßŸÑŸÉŸÖÿßŸÑÿå ŸàŸÉŸÑ ÿ®ÿ±ŸÜÿßŸÖÿ¨ ŸáŸà ÿπŸÖŸÑ ŸÅŸÜŸä.",
                "play": "ŸÑÿπÿ®",
                "game-mode": "Ÿàÿ∂ÿπ ÿßŸÑŸÑÿπÿ®ÿ©",
                "vs-bot": "ÿ∂ÿØ ÿßŸÑÿ®Ÿàÿ™",
                "bot-desc": "ÿ™ÿ≠ÿØŸâ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä ÿßŸÑÿÆÿßÿµ ÿ®ŸÜÿß. Ÿäÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ®Ÿàÿ™ ÿÆŸàÿßÿ±ÿ≤ŸÖŸäÿßÿ™ ŸÖÿ™ŸÇÿØŸÖÿ© ŸÑÿßÿ™ÿÆÿßÿ∞ ÿßŸÑŸÇÿ±ÿßÿ±ÿßÿ™.",
                "vs-friend": "ÿ∂ÿØ ÿµÿØŸäŸÇ",
                "friend-desc": "ÿßÿØÿπŸè ÿµÿØŸäŸÇŸãÿß Ÿàÿ™ŸÜÿßŸÅÿ≥ ÿπŸÑŸâ ŸÜŸÅÿ≥ ÿßŸÑÿ¨Ÿáÿßÿ≤. ŸÖÿ´ÿßŸÑŸä ŸÑŸÑÿ≠ŸÅŸÑÿßÿ™!",
                "player1": "ÿßŸÑŸÑÿßÿπÿ® 1 (X):",
                "player2": "ÿßŸÑŸÑÿßÿπÿ® 2 (O):",
                "start-game": "ÿ®ÿØÿ° ÿßŸÑŸÑÿπÿ®ÿ©",
                "back": "ÿπŸàÿØÿ©",
                "tic-tac-toe": "ÿ™ŸäŸÉ ÿ™ÿßŸÉ ÿ™Ÿà",
                "restart": "ŸÑÿπÿ®ÿ© ÿ¨ÿØŸäÿØÿ©",
                "to-menu": "ÿ•ŸÑŸâ ÿßŸÑŸÇÿßÿ¶ŸÖÿ©",
                "settings": "ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™",
                "theme": "ÿßŸÑÿ≥ŸÖÿ©:",
                "light": "ŸÅÿßÿ™ÿ≠",
                "dark": "ÿØÿßŸÉŸÜ",
                "language": "ÿßŸÑŸÑÿ∫ÿ©:",
                "statistics": "ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™",
                "games-played": "ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖŸÑÿπŸàÿ®ÿ©",
                "wins-x": "ÿßŸÜÿ™ÿµÿßÿ±ÿßÿ™ X",
                "wins-o": "ÿßŸÜÿ™ÿµÿßÿ±ÿßÿ™ O",
                "draws": "ÿßŸÑÿ™ÿπÿßÿØŸÑ",
                "your-turn": "ÿØŸàÿ±ŸÉ",
                "bot-turn": "ÿØŸàÿ± ÿßŸÑÿ®Ÿàÿ™",
                "player-turn": "ÿØŸàÿ± ÿßŸÑŸÑÿßÿπÿ®",
                "win-x": "ŸÅÿßÿ≤ X!",
                "win-o": "ŸÅÿßÿ≤ O!",
                "draw": "ÿ™ÿπÿßÿØŸÑ!",
                "play-again": "ÿßŸÑÿπÿ® ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ"
            },
            // –û—Å—Ç–∞–ª—å–Ω—ã–µ —è–∑—ã–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –∞–Ω–≥–ª–∏–π—Å–∫–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        };

        // –ó–∞–ø–æ–ª–Ω—è–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∞–Ω–≥–ª–∏–π—Å–∫–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏
        for (const lang of Object.keys(languages)) {
            if (!translations[lang]) {
                translations[lang] = translations['en'];
            }
        }

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const elements = {
            // –°—Ç—Ä–∞–Ω–∏—Ü—ã
            introPage: document.getElementById('intro-page'),
            modePage: document.getElementById('mode-page'),
            gamePage: document.getElementById('game-page'),
            playerNames: document.getElementById('player-names'),
            
            // –ö–Ω–æ–ø–∫–∏
            playBtn: document.getElementById('play-btn'),
            modeOptions: document.querySelectorAll('.mode-option'),
            startGameBtn: document.getElementById('start-game-btn'),
            modeBackBtn: document.getElementById('mode-back-btn'),
            restartBtn: document.getElementById('restart-btn'),
            gameMenuBtn: document.getElementById('game-menu-btn'),
            modalRestartBtn: document.getElementById('modal-restart-btn'),
            modalMenuBtn: document.getElementById('modal-menu-btn'),
            
            // –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
            gameBoard: document.getElementById('game-board'),
            cells: document.querySelectorAll('.cell'),
            turnIndicator: document.getElementById('turn-indicator'),
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            themeToggle: document.getElementById('theme-toggle'),
            themeStatus: document.getElementById('theme-status'),
            languagesGrid: document.getElementById('languages-grid'),
            
            // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
            settingsModal: document.getElementById('settings-modal'),
            statsModal: document.getElementById('stats-modal'),
            resultModal: document.getElementById('result-modal'),
            closeModals: document.querySelectorAll('.close-modal'),
            telegramBtn: document.getElementById('telegram-btn'),
            settingsBtn: document.getElementById('settings-btn'),
            statsBtn: document.getElementById('stats-btn'),
            
            // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            statsGrid: document.getElementById('stats-grid'),
            
            // –ò–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤
            player1Name: document.getElementById('player1-name'),
            player2Name: document.getElementById('player2-name'),
            
            // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
            resultTitle: document.getElementById('result-title'),
            resultMessage: document.getElementById('result-message')
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function initApp() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑ localStorage
            loadState();
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º—ã
            setTheme(state.theme);
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —è–∑—ã–∫–∞
            setLanguage(state.language);
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —è–∑—ã–∫–æ–≤
            generateLanguages();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            updateStats();
            
            // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners();
        }

        // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            elements.playBtn.addEventListener('click', () => showPage('mode'));
            elements.modeBackBtn.addEventListener('click', () => showPage('intro'));
            elements.gameMenuBtn.addEventListener('click', () => showPage('mode'));
            elements.modalMenuBtn.addEventListener('click', () => {
                elements.resultModal.classList.remove('active');
                showPage('mode');
            });
            
            // –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã
            elements.modeOptions.forEach(option => {
                option.addEventListener('click', () => {
                    // –°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –æ–ø—Ü–∏–π
                    elements.modeOptions.forEach(opt => opt.classList.remove('selected'));
                    // –í—ã–¥–µ–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –æ–ø—Ü–∏—é
                    option.classList.add('selected');
                    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
                    state.gameMode = option.dataset.mode;
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É"
                    elements.startGameBtn.style.display = 'block';
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—è –¥–ª—è –≤–≤–æ–¥–∞ –∏–º–µ–Ω, –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω —Ä–µ–∂–∏–º —Å –¥—Ä—É–≥–æ–º
                    if (state.gameMode === 'friend') {
                        elements.playerNames.style.display = 'block';
                    } else {
                        elements.playerNames.style.display = 'none';
                    }
                });
            });
            
            // –ö–Ω–æ–ø–∫–∞ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            elements.startGameBtn.addEventListener('click', startGame);
            elements.modalRestartBtn.addEventListener('click', startGame);
            elements.restartBtn.addEventListener('click', startGame);
            
            // –Ø—á–µ–π–∫–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
            elements.cells.forEach(cell => {
                cell.addEventListener('click', () => handleCellClick(cell));
            });
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–º–µ–Ω –∏–≥—Ä–æ–∫–æ–≤
            elements.player1Name.addEventListener('change', updatePlayerNames);
            elements.player2Name.addEventListener('change', updatePlayerNames);
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
            elements.themeToggle.addEventListener('change', toggleTheme);
            
            // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
            elements.telegramBtn.addEventListener('click', () => {
                window.open('https://t.me/historicalpubertat', '_blank');
            });
            
            elements.settingsBtn.addEventListener('click', () => {
                elements.settingsModal.classList.add('active');
            });
            
            elements.statsBtn.addEventListener('click', () => {
                elements.statsModal.classList.add('active');
            });
            
            elements.closeModals.forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.modal').forEach(modal => {
                        modal.classList.remove('active');
                    });
                });
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.classList.remove('active');
                    }
                });
            });
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
        function showPage(page) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            elements.introPage.style.display = 'none';
            elements.modePage.style.display = 'none';
            elements.gamePage.style.display = 'none';
            
            // –°–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É" –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
            elements.startGameBtn.style.display = 'none';
            elements.playerNames.style.display = 'none';
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            if (page === 'intro') {
                elements.introPage.style.display = 'block';
                state.currentPage = 'intro';
            } else if (page === 'mode') {
                elements.modePage.style.display = 'block';
                state.currentPage = 'mode';
                // –°–±—Ä–æ—Å–∏—Ç—å –≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞
                elements.modeOptions.forEach(opt => opt.classList.remove('selected'));
                state.gameMode = null;
            } else if (page === 'game') {
                elements.gamePage.style.display = 'block';
                state.currentPage = 'game';
            }
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –∏–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤
        function updatePlayerNames() {
            state.playerNames.player1 = elements.player1Name.value || '–ü–µ—Ä–≤—ã–π';
            state.playerNames.player2 = elements.player2Name.value || '–í—Ç–æ—Ä–æ–π';
        }

        // –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
        function startGame() {
            // –°–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –µ—Å–ª–∏ –æ–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ
            elements.resultModal.classList.remove('active');
            
            // –°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
            resetGame();
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–≥—Ä—ã
            showPage('game');
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ö–æ–¥–∞
            updateTurnIndicator();
            
            // –ï—Å–ª–∏ –∏–≥—Ä–∞ —Å –±–æ—Ç–æ–º –∏ –±–æ—Ç —Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–º
            if (state.gameMode === 'bot' && state.currentPlayer === 'O') {
                setTimeout(makeBotMove, 800);
            }
        }

        // –°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—É
        function resetGame() {
            state.gameBoard = Array(9).fill('');
            state.gameActive = true;
            state.currentPlayer = 'X';
            state.botMovesCount = 0;
            
            // –û—á–∏—Å—Ç–∏—Ç—å –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
            elements.cells.forEach(cell => {
                cell.classList.remove('x', 'o');
            });
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ —è—á–µ–π–∫–µ
        function handleCellClick(cell) {
            if (!state.gameActive) return;
            
            const index = parseInt(cell.dataset.index);
            
            // –ï—Å–ª–∏ —è—á–µ–π–∫–∞ —É–∂–µ –∑–∞–Ω—è—Ç–∞, –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å
            if (state.gameBoard[index] !== '') return;
            
            // –°–¥–µ–ª–∞—Ç—å —Ö–æ–¥
            makeMove(index, state.currentPlayer);
            
            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä—ã
            const result = checkGameResult();
            
            if (result) {
                // –ò–≥—Ä–∞ –∑–∞–∫–æ–Ω—á–µ–Ω–∞
                handleGameEnd(result);
            } else if (state.gameMode === 'bot') {
                // –•–æ–¥ –±–æ—Ç–∞
                setTimeout(makeBotMove, 800);
            }
        }

        // –°–¥–µ–ª–∞—Ç—å —Ö–æ–¥
        function makeMove(index, player) {
            // –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
            state.gameBoard[index] = player;
            
            // –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            const cell = elements.cells[index];
            cell.classList.add(player.toLowerCase());
            
            // –°–º–µ–Ω–∏—Ç—å –∏–≥—Ä–æ–∫–∞
            state.currentPlayer = player === 'X' ? 'O' : 'X';
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ö–æ–¥–∞
            updateTurnIndicator();
        }

        // –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±–æ—Ç–∞
        function findRandomMove() {
            const emptyCells = state.gameBoard
                .map((cell, index) => cell === '' ? index : -1)
                .filter(index => index !== -1);
            if (emptyCells.length > 0) {
                return emptyCells[Math.floor(Math.random() * emptyCells.length)];
            }
            return -1;
        }

        function findWinningMove(player) {
            const winPatterns = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // –í–µ—Ä—Ç–∏–∫–∞–ª–∏
                [0, 4, 8], [2, 4, 6]             // –î–∏–∞–≥–æ–Ω–∞–ª–∏
            ];
            
            for (const pattern of winPatterns) {
                const [a, b, c] = pattern;
                
                // –ï—Å–ª–∏ –¥–≤–∞ –ø–æ–ª—è –∑–∞–Ω—è—Ç—ã –∏–≥—Ä–æ–∫–æ–º, –∞ —Ç—Ä–µ—Ç—å–µ –ø—É—Å—Ç–æ–µ
                if (
                    state.gameBoard[a] === player && 
                    state.gameBoard[b] === player && 
                    state.gameBoard[c] === ''
                ) {
                    return c;
                }
                
                if (
                    state.gameBoard[a] === player && 
                    state.gameBoard[c] === player && 
                    state.gameBoard[b] === ''
                ) {
                    return b;
                }
                
                if (
                    state.gameBoard[b] === player && 
                    state.gameBoard[c] === player && 
                    state.gameBoard[a] === ''
                ) {
                    return a;
                }
            }
            
            return -1;
        }

        function aggressiveStrategy() {
            // –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–∏–≥—Ä–∞—Ç—å
            const winMove = findWinningMove('O');
            if (winMove !== -1) return winMove;
            
            // –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä–æ–∫–∞
            const blockMove = findWinningMove('X');
            if (blockMove !== -1) return blockMove;
            
            // –¶–µ–Ω—Ç—Ä
            if (state.gameBoard[4] === '') return 4;
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ö–æ–¥
            return findRandomMove();
        }

        function defensiveStrategy() {
            // –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä–æ–∫–∞
            const blockMove = findWinningMove('X');
            if (blockMove !== -1) return blockMove;
            
            // –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–∏–≥—Ä–∞—Ç—å
            const winMove = findWinningMove('O');
            if (winMove !== -1) return winMove;
            
            // –¶–µ–Ω—Ç—Ä
            if (state.gameBoard[4] === '') return 4;
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ö–æ–¥
            return findRandomMove();
        }

        function centerStrategy() {
            // –¶–µ–Ω—Ç—Ä
            if (state.gameBoard[4] === '') return 4;
            
            // –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–∏–≥—Ä–∞—Ç—å
            const winMove = findWinningMove('O');
            if (winMove !== -1) return winMove;
            
            // –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä–æ–∫–∞
            const blockMove = findWinningMove('X');
            if (blockMove !== -1) return blockMove;
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ö–æ–¥
            return findRandomMove();
        }

        function cornerStrategy() {
            // –£–≥–ª—ã
            const corners = [0, 2, 6, 8];
            const availableCorners = corners.filter(index => state.gameBoard[index] === '');
            if (availableCorners.length > 0) {
                return availableCorners[Math.floor(Math.random() * availableCorners.length)];
            }
            
            // –¶–µ–Ω—Ç—Ä
            if (state.gameBoard[4] === '') return 4;
            
            // –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–∏–≥—Ä–∞—Ç—å
            const winMove = findWinningMove('O');
            if (winMove !== -1) return winMove;
            
            // –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä–æ–∫–∞
            const blockMove = findWinningMove('X');
            if (blockMove !== -1) return blockMove;
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ö–æ–¥
            return findRandomMove();
        }

        // –•–æ–¥ –±–æ—Ç–∞
        function makeBotMove() {
            if (!state.gameActive) return;
            
            let move;
            
            // –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–¥–µ–ª–∞–Ω–Ω—ã—Ö —Ö–æ–¥–æ–≤
            const strategyIndex = state.botMovesCount % 4;
            
            switch(strategyIndex) {
                case 0:
                    move = aggressiveStrategy();
                    break;
                case 1:
                    move = defensiveStrategy();
                    break;
                case 2:
                    move = centerStrategy();
                    break;
                case 3:
                    move = cornerStrategy();
                    break;
                default:
                    move = findRandomMove();
            }
            
            // –ï—Å–ª–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–µ –¥–∞–ª–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Å–ª—É—á–∞–π–Ω—ã–π —Ö–æ–¥
            if (move === -1 || state.gameBoard[move] !== '') {
                move = findRandomMove();
            }
            
            if (move !== -1) {
                makeMove(move, 'O');
                state.botMovesCount++;
                
                // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä—ã
                const result = checkGameResult();
                if (result) {
                    handleGameEnd(result);
                }
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä—ã
        function checkGameResult() {
            const winPatterns = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // –í–µ—Ä—Ç–∏–∫–∞–ª–∏
                [0, 4, 8], [2, 4, 6]             // –î–∏–∞–≥–æ–Ω–∞–ª–∏
            ];
            
            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–±–µ–¥—É
            for (const pattern of winPatterns) {
                const [a, b, c] = pattern;
                if (
                    state.gameBoard[a] !== '' &&
                    state.gameBoard[a] === state.gameBoard[b] &&
                    state.gameBoard[a] === state.gameBoard[c]
                ) {
                    return state.gameBoard[a]; // 'X' –∏–ª–∏ 'O'
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∏—á—å—é
            if (!state.gameBoard.includes('')) {
                return 'draw';
            }
            
            // –ò–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
            return null;
        }

        // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ–∫–æ–Ω—á–∞–Ω–∏–µ –∏–≥—Ä—ã
        function handleGameEnd(result) {
            state.gameActive = false;
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            updateStatistics(result);
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            showGameResult(result);
        }

        // –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        function updateStatistics(result) {
            state.stats.gamesPlayed++;
            
            if (result === 'X') {
                state.stats.winsX++;
            } else if (result === 'O') {
                state.stats.winsO++;
            } else if (result === 'draw') {
                state.stats.draws++;
            }
            
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ localStorage
            saveStats();
            
            // –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            updateStats();
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä—ã
        function showGameResult(result) {
            let title, message;
            
            if (result === 'X') {
                title = getTranslation('win-x');
                if (state.gameMode === 'bot') {
                    message = getTranslation('win-x');
                } else {
                    message = `${state.playerNames.player1} ${getTranslation('win-x')}`;
                }
            } else if (result === 'O') {
                title = getTranslation('win-o');
                if (state.gameMode === 'bot') {
                    message = getTranslation('win-o');
                } else {
                    message = `${state.playerNames.player2} ${getTranslation('win-o')}`;
                }
            } else {
                title = getTranslation('draw');
                message = getTranslation('draw');
            }
            
            elements.resultTitle.textContent = title;
            elements.resultMessage.textContent = message;
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            setTimeout(() => {
                elements.resultModal.classList.add('active');
            }, 800);
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ö–æ–¥–∞
        function updateTurnIndicator() {
            if (!state.gameActive) return;
            
            let text;
            
            if (state.gameMode === 'bot') {
                text = state.currentPlayer === 'X' ? 
                    getTranslation('your-turn') : 
                    getTranslation('bot-turn');
            } else {
                const playerName = state.currentPlayer === 'X' ? 
                    state.playerNames.player1 : 
                    state.playerNames.player2;
                text = `${playerName} ${getTranslation('player-turn')}`;
            }
            
            elements.turnIndicator.textContent = text;
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        function toggleTheme() {
            state.theme = state.theme === 'dark' ? 'light' : 'dark';
            setTheme(state.theme);
            saveState();
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º—ã
        function setTheme(theme) {
            // –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–ª–∞—Å—Å—ã —Ç–µ–º
            document.body.classList.remove('dark-theme', 'light-theme-colorful');
            
            if (theme === 'dark') {
                document.body.classList.add('dark-theme');
                elements.themeStatus.textContent = getTranslation('dark');
                elements.themeToggle.checked = false;
            } else {
                document.body.classList.add('light-theme-colorful');
                elements.themeStatus.textContent = getTranslation('light');
                elements.themeToggle.checked = true;
            }
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —è–∑—ã–∫–æ–≤
        function generateLanguages() {
            elements.languagesGrid.innerHTML = '';
            
            for (const [code, lang] of Object.entries(languages)) {
                const langElement = document.createElement('div');
                langElement.className = `language-option ${state.language === code ? 'selected' : ''}`;
                langElement.dataset.lang = code;
                langElement.innerHTML = `${lang.flag} ${lang.name}`;
                
                langElement.addEventListener('click', () => {
                    setLanguage(code);
                    // –°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ
                    document.querySelectorAll('.language-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    // –í—ã–¥–µ–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π
                    langElement.classList.add('selected');
                });
                
                elements.languagesGrid.appendChild(langElement);
            }
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —è–∑—ã–∫–∞
        function setLanguage(lang) {
            state.language = lang;
            
            // –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º data-lang
            document.querySelectorAll('[data-lang]').forEach(element => {
                const key = element.dataset.lang;
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ö–æ–¥–∞
            if (state.currentPage === 'game') {
                updateTurnIndicator();
            }
            
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            saveState();
        }

        // –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        function updateStats() {
            if (!elements.statsGrid) return;
            
            elements.statsGrid.innerHTML = `
                <div class="stat-card">
                    <div class="stat-value">${state.stats.gamesPlayed}</div>
                    <div class="stat-label">${getTranslation('games-played')}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${state.stats.winsX}</div>
                    <div class="stat-label">${getTranslation('wins-x')}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${state.stats.winsO}</div>
                    <div class="stat-label">${getTranslation('wins-o')}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${state.stats.draws}</div>
                    <div class="stat-label">${getTranslation('draws')}</div>
                </div>
            `;
        }

        // –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥
        function getTranslation(key) {
            if (translations[state.language] && translations[state.language][key]) {
                return translations[state.language][key];
            }
            return key; // –í–µ—Ä–Ω—É—Ç—å –∫–ª—é—á, –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        function saveState() {
            localStorage.setItem('ticTacToeState', JSON.stringify({
                theme: state.theme,
                language: state.language,
                stats: state.stats
            }));
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        function loadState() {
            const savedState = localStorage.getItem('ticTacToeState');
            if (savedState) {
                const parsedState = JSON.parse(savedState);
                state.theme = parsedState.theme || 'dark';
                state.language = parsedState.language || 'ru';
                state.stats = parsedState.stats || state.stats;
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        function saveStats() {
            saveState(); // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —á–∞—Å—Ç—å –æ–±—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>